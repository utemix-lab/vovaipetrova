function a(r){if(!r||typeof r!="object")throw new Error("Cosmos Map JSON is missing or invalid");if(!r.schema||typeof r.schema!="string")throw new Error("Missing schema: expected cosmos-map.v0.1");if(r.schema!=="cosmos-map.v0.1")throw new Error(`Unsupported schema: ${r.schema}`);if(!Array.isArray(r.nodes)||!Array.isArray(r.links))throw new Error("Missing nodes or links arrays");const o=r.nodes.map(t=>{if(!t||typeof t.id!="string"||t.id.trim()==="")throw new Error("Every node must have a non-empty string id");return{...t}}),n=r.links.map(t=>{const e=i(t?.source),s=i(t?.target);if(!e||!s)throw new Error("Every link must have source and target");return{...t,source:e,target:s}});return{nodes:o,links:n}}function i(r){return typeof r=="string"?r:r&&typeof r=="object"&&typeof r.id=="string"?r.id:null}export{a as l};
