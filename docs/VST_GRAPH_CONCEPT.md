# VST Graph — Полная спецификация фасетной онтологии

**Дата:** 17 февраля 2026 (обновлено 18.02.2026)
**Статус:** Спецификация v1.0
**Track:** 1.5 (Epistemic Ontology) — пример фасетной онтологии
**Тип графа:** A (Faceted Ontology)

---

## Философия

VST Graph — это **не просто каталог плагинов**. Это демонстрация того, как один и тот же набор сущностей может быть организован через **множество систем координат** одновременно.

### Ключевой тезис

> **Граф ≠ Дерево. Граф = Множество деревьев, наложенных друг на друга.**

Традиционный каталог (папки, теги) — это одно дерево. Граф позволяет видеть **все возможные деревья** и переключаться между ними.

### Демонстрационная ценность

VST Graph демонстрирует возможности Платформы:
1. **Разнообразие миров** — один мир (VST) показывает, как могут работать другие миры
2. **Множественность проекций** — одни данные, разные способы видеть
3. **Преимущество графа** — то, что невозможно в иерархической классификации

---

## Типы узлов (слои)

| Тип узла | Описание | Пример |
|----------|----------|--------|
| **Instrument** | Конкретные инструменты / экземпляры | Serum, Kontakt, Omnisphere |
| **Attribute** | Физические / технические свойства | Acoustic, Steel String, 88 Keys |
| **Category** | Категории по разным системам | Synth, Strings, Percussion |
| **System** | Системы классификации | Hornbostel–Sachs, General MIDI, Internal |
| **Method** | Функциональные методики | Riffer, Strummer, Arpeggiator |
| **Articulation** | Техники игры / исполнения | Legato, Staccato, Pizzicato, Tremolo |
| **Term** | Терминология (внутренняя и внешняя) | "Warm pad", "Cinematic hit" |
| **Manufacturer** | Производители | Native Instruments, Spitfire Audio |
| **Country** | Страны производителей | Germany, UK, USA |
| **PlatformRequirement** | Системные требования | VST2, VST3, AU, AAX, Standalone, macOS, Windows |
| **Review / Note** | Прикладные заметки, оценки | "Отлично для ambient", "CPU-heavy" |
| **CustomDimension** | Любая будущая метрика / тег | Genre, Price, ReleaseDate |

---

## Связи

| Связь | Из | В | Описание |
|-------|-----|-----|----------|
| `has_attribute` | Instrument | Attribute | Физические / технические свойства |
| `belongs_to_category` | Instrument | Category | Категория в системе |
| `categorized_by` | Category | System | Какая система классификации |
| `supports_system` | Instrument | System | Форматы / совместимости |
| `uses_method` | Instrument | Method | Функциональные методики |
| `has_articulation` | Instrument | Articulation | Только применимые техники |
| `defines_term` | Category / Method / Articulation | Term | Внутренняя терминология |
| `annotated_by` | Instrument | Term / Review | Внешняя терминология, примеры |
| `produced_by` | Instrument | Manufacturer | Производитель |
| `made_in` | Manufacturer | Country | Страна |
| `requires` | Instrument | PlatformRequirement | Системные требования |
| `has_dimension` | Instrument | CustomDimension | Расширяемость |

---

## Системы классификации (System)

### 1. Hornbostel–Sachs (научная органология)

```
├── Идиофоны (самозвучащие)
│   ├── Ударные идиофоны (ксилофон, маримба)
│   ├── Щипковые идиофоны (калимба)
│   └── Фрикционные идиофоны (glass harmonica)
├── Мембранофоны (мембрана)
│   ├── Ударные (барабаны)
│   └── Фрикционные (cuica)
├── Хордофоны (струнные)
│   ├── Простые (цитра, арфа)
│   └── Составные (гитара, скрипка)
├── Аэрофоны (духовые)
│   ├── Свободные (аккордеон)
│   ├── Флейтовые
│   ├── Язычковые (кларнет, саксофон)
│   └── Мундштучные (труба, тромбон)
└── Электрофоны (электронные)
    ├── Электромеханические (Rhodes, Wurlitzer)
    ├── Электронные аналоговые (Moog, ARP)
    └── Цифровые (FM, Wavetable, Granular)
```

### 2. General MIDI (стандартная)

128 программ, 16 каналов, стандартизированные категории.

### 3. Internal (внутренняя)

Собственная классификация проекта, оптимизированная для навигации.

### 4. Functional (по роли в миксе)

```
├── Ритм-секция (Drums, Bass, Percussion)
├── Гармония (Pads, Keys, Guitars)
├── Мелодия (Leads, Strings, Winds)
├── Текстура (Ambience, FX, Drones)
└── Вокал (Choirs, Solo Voice, Vocal FX)
```

### 5. Synthesis Method (технологическая)

```
├── Sample-based (ROMpler, Kontakt, Soundfont)
├── Synthesis (Subtractive, FM, Wavetable, Granular, Additive, Physical Modeling)
└── Hybrid
```

---

## Артикуляции (Articulation)

Отдельный слой узлов, связанный **только с применимыми инструментами**.

| Артикуляция | Применимо к | Описание |
|-------------|-------------|----------|
| Legato | Strings, Winds, Voice | Связное исполнение |
| Staccato | Strings, Keys, Brass | Отрывистое исполнение |
| Pizzicato | Strings | Щипок |
| Tremolo | Strings, Keys | Быстрое повторение |
| Vibrato | Strings, Voice, Winds | Вибрация высоты |
| Spiccato | Strings | Прыгающий смычок |
| Sul Ponticello | Strings | У подставки |
| Con Sordino | Strings, Brass | С сурдиной |
| Flutter Tongue | Winds, Brass | Фруллато |
| Harmonics | Strings, Guitar | Флажолеты |

---

## Терминология (Term)

Два слоя:

### Внутренняя (структурная)
- Определяется через `defines_term` от Category / Method / Articulation
- Пример: "Legato" как термин, определённый артикуляцией

### Внешняя (описательная)
- Связывается через `annotated_by` от Instrument
- Пример: "Warm cinematic pad", "Aggressive EDM bass"

---

## Визуализация (Track 4)

### Цвета узлов по типу

| Тип | Цвет | Hex |
|-----|------|-----|
| Instrument | Amber | `#fbbf24` |
| Attribute | Green | `#34d399` |
| Category | Purple | `#a78bfa` |
| System | Red | `#f87171` |
| Method | Orange | `#fb923c` |
| Articulation | Blue | `#60a5fa` |
| Term | Violet | `#c084fc` |
| Manufacturer | Cyan | `#22d3ee` |
| Country | Teal | `#2dd4bf` |
| PlatformRequirement | Gray | `#9ca3af` |
| Review / Note | Pink | `#f472b6` |
| CustomDimension | Indigo | `#818cf8` |

### Группировка слоёв

UI позволяет включать/выключать слои:
- Показать только Articulations + Methods
- Показать только Manufacturers + Countries
- Показать пересечение Systems

### Взаимодействие

1. **Выбор слоя** в Story → граф фильтруется
2. **Hover** на узел → подсветка связанных
3. **Click** на узел → детали в Service panel
4. **Комбинация фильтров** → пересечение множеств

---

## Преимущество графа

### Что невозможно в дереве:

1. **Один инструмент в нескольких категориях**
   - Serum: Wavetable + Electronic + Bright + Xfer Records
   - В дереве нужно выбрать одну папку

2. **Связи между категориями разных систем**
   - "Все Wavetable синтезаторы от Native Instruments для EDM"
   - Пересечение трёх осей

3. **Навигация по любой оси**
   - Начать с компании → перейти к жанру → уточнить по синтезу
   - Путь не предопределён

4. **Обнаружение паттернов**
   - "Большинство Cinematic библиотек — Sample-based"
   - "Granular синтезаторы часто используются для Ambient"

5. **Артикуляции как отдельное измерение**
   - "Все инструменты с Legato артикуляцией"
   - Пересечение с категориями и производителями

---

## Принцип расширяемости

```
Любой новый тип узлов добавляется как CustomDimension.
Артикуляции расширяются постепенно.
Терминология интегрируется в узлы и связи.
Базовая структура не меняется.
```

---

## Архитектурная связь

### Track 1.5 (Epistemic Ontology)
VST Graph — пример **Типа A: Фасетная онтология**:
- Мульти-мерная классификация
- Атрибутивный подход
- Высоко-формализуемый

### Track 0 (Meta/Product)
Демонстрирует **возможности Платформы**:
- Любой мир может иметь множество проекций
- Пользователь выбирает способ видеть данные

### Track 1 (Ontology)
Определяет **типы узлов и связей** (см. таблицы выше)

### Track 2 (Schema)
Реализация в JSON-схемах каталогов

### Track 4 (Projection/UI)
Визуализация, цвета, фильтры, взаимодействие

---

## UI-концепция

### Story Panel (левая)
- **Виджеты слоёв** — кнопки переключения типов узлов
- **Chladni-эффект** — визуальная обратная связь на выбор

### System Panel (правая)
- **2D-граф** — текущая проекция
- **Кнопки фильтров** — уточнение внутри слоя
- **Легенда** — цвета узлов

### Service Panel (нижняя правая)
- **Детали узла** — при клике
- **Связанные узлы** — список связей

---

## Следующие шаги

1. [x] Определить типы узлов и связей
2. [ ] Обновить JSON-схемы каталогов (Track 2)
3. [ ] Реализовать переключение слоёв в UI (Track 4)
4. [ ] Заполнить тестовые данные с артикуляциями
5. [ ] Связать с Chladni-паттернами (каждый слой = свой паттерн?)

---

## Связанные документы

- `docs/ARCHITECTURE_TRACKS.md` — архитектурные треки
- `docs/WORKBENCH_GRAPH_TYPES.md` — типы графовых эпистемологий (Track 1.5)
- `docs/CHLADNI_CONCEPT.md` — визуальный эффект
- `worlds/vovaipetrova/catalogs/` — текущие каталоги
