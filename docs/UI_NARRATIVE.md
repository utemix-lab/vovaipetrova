# UI Narrative — Нарративные описания интерфейса

**Track 4: Projection/UI**  
**Статус:** provisional  
**Назначение:** Источник для будущего нарратива о системе

---

## Цель документа

Этот документ фиксирует **"почему так"** и **"что это значит"** — нарративный слой поверх технических стандартов.

| Документ | Что описывает |
|----------|---------------|
| `UI_STANDARDS.md` | **Как** — размеры, CSS, отступы |
| `windows.md` | **Где** — нотация для правок |
| **`UI_NARRATIVE.md`** | **Почему** — смысл и логика |

---

## Окно Story — Навигация и Повествование

### Метафора

Story — это **окно в историю узла**. В свёрнутом состоянии оно показывает только "вход" — 3D-фигуру и кнопку "Вперёд". Это приглашение, а не информация.

### Состояния

| Состояние | Что видит пользователь | Смысл |
|-----------|------------------------|-------|
| **Шаг 0** | Фигура + одна кнопка | "Здесь есть история, хочешь узнать?" |
| **Шаг 1+** | Три кнопки | "Ты внутри истории, можешь двигаться" |
| **Развёрнутое** | Название "Story" + контент | "Вот полная история" |

### Почему так

1. **Минимализм входа** — не перегружать пользователя сразу
2. **Прогрессивное раскрытие** — информация появляется по мере интереса
3. **Автосворачивание** — возврат к началу = возврат к приглашению

### Связь с онтологией

Story существует только там, где есть **повествование**:
- Персонажи — есть история
- Воркбенчи — есть история (визуальный эффект вместо фигуры)
- **Хабы — нет истории** (транспортные узлы)

---

## Страницы хабов — Транспорт без нарратива

### Метафора

Хабы (Characters, Domains) — это **вокзалы**, а не дома. Пользователь приходит сюда чтобы выбрать направление, а не чтобы остаться.

### Почему нет Story

- Хабу нечего рассказывать о себе
- Его содержание — это **дочерние узлы**
- Вместо Story — увеличенная 3D-фигура (визуальный якорь)

### Увеличенная фигура (2x)

- Компенсирует отсутствие Story
- Создаёт визуальный центр страницы
- Фигура = тип содержимого (икосаэдр = персонажи, куб = домены)

---

## S-Naming — Стилистический ход

### Метафора

Все окна на букву **S** — это не случайность, а **ритм**:
- **S**cope — область видимости
- **S**tory — история
- **S**ystem — система
- **S**ervice — сервис
- **S**late — доска (новости)
- **S**torage — хранилище (граф)
- **S**anctum — святилище (LLM)

### Почему так

1. **Запоминаемость** — единый паттерн
2. **Идентичность** — отличает от других систем
3. **Игра** — система не боится быть стилизованной

---

## Виджеты — Форма = Функция

### Метафора

Форма виджета сообщает его назначение **до клика**:

| Форма | Ассоциация | Функция |
|-------|------------|---------|
| **Круг** | Узел графа | Навигация |
| **Квадрат** | Окно | Открыть окно |
| **Треугольник** | Направление | Практика/действие |

### Почему так

1. **Интуитивность** — не нужно читать, чтобы понять
2. **Консистентность** — одна форма = одна функция везде
3. **Скорость** — быстрое визуальное сканирование

---

## 3D-фигуры — Геометрия смысла

### Метафора

Каждый тип узла имеет свою геометрию:

| Фигура | Тип | Почему |
|--------|-----|--------|
| **Октаэдр** | Персонаж | 6 вершин = 6 направлений личности |
| **Икосаэдр** | Группа персонажей | Много граней = много участников |
| **Куб** | Домен | Стабильность, структура |

### Почему так

1. **Различимость** — сразу видно, где ты
2. **Символизм** — форма несёт смысл
3. **Красота** — платоновы тела эстетичны

---

## Подсветка — Связи без линий

### Метафора

Подсветка показывает **связи** без явных линий:
- Hover на виджет → подсвечивается узел в графе
- Hover на корневой виджет → подсвечиваются ВСЕ связанные узлы

### Почему так

1. **Чистота** — нет визуального шума от линий
2. **Контекст** — видно, что связано с чем
3. **Интерактивность** — связи появляются по запросу

---

## Философия интерфейса

### Принципы

1. **Прогрессивное раскрытие** — информация появляется по мере интереса
2. **Форма = функция** — визуальный язык вместо текстовых подсказок
3. **Минимализм** — только необходимое, остальное по запросу
4. **Консистентность** — одинаковые элементы ведут себя одинаково
5. **Игра** — система не боится быть красивой и стилизованной

### Антипаттерны

- ❌ Перегруженные экраны
- ❌ Текстовые инструкции вместо интуитивного дизайна
- ❌ Разное поведение одинаковых элементов
- ❌ Скучный "корпоративный" стиль

---

## Связь с Canonical Protocol

Этот документ — **нарративный слой** Canonical Protocol:

```
Код (@status, @track) → Стандарты (UI_STANDARDS.md) → Нарратив (UI_NARRATIVE.md)
```

Каждый canonical-элемент UI должен иметь:
1. Маркер в коде
2. Описание в стандартах
3. **Объяснение в нарративе**

---

## Связанные документы

- [`UI_STANDARDS.md`](./UI_STANDARDS.md) — технические стандарты
- [`windows.md`](./windows.md) — нотация для правок
- [`CANONICAL_PROTOCOL.md`](./CANONICAL_PROTOCOL.md) — протокол сверки
- [`ARCHITECTURE_TRACKS.md`](./ARCHITECTURE_TRACKS.md) — Track 4 (Projection)
